

> [!NOTE]
> I have open-sourced the code for this website so that anyone interested in building a similar personal site or blog can use it as a starting point.
>
> The source code of this website is licensed under the **MIT License**. You are free to use the code to build your own website.
>
> However, the content (blog posts, essays, images, and personal data located in `static/content/`) is **Â© Caesar Balona, All Rights Reserved**. 
> 
> You may not repost, republish, or monetise the written content without explicit permission.
>
> The README below was generated by AI to document the project structure and setup.

# ModernActuary

The source code for **[modernactuary.co.za](https://modernactuary.co.za)**, the personal
website and journal of Caesar Balona. This project serves as a platform to explore the
intersection of actuarial science, data science, and modern software development.

## ğŸš€ Tech Stack

This site is a static site generated using **SvelteKit** and modern web tools.

*   **Framework:** [SvelteKit](https://kit.svelte.dev/) (using
    `@sveltejs/adapter-static`)
*   **Language:** [TypeScript](https://www.typescriptlang.org/)
*   **Styling:** [Tailwind CSS v4](https://tailwindcss.com/) (incorporating
    `@tailwindcss/typography`)
*   **Content:** Markdown (processed via [unified](https://unifiedjs.com/),
    [remark](https://github.com/remarkjs/remark), and
    [rehype](https://github.com/rehypejs/rehype))
*   **Validation:** [Valibot](https://valibot.dev/) for strict frontmatter schema
    validation
*   **Tooling:** [Biome](https://biomejs.dev/) for formatting and linting
*   **Package Manager:** [pnpm](https://pnpm.io/)

## ğŸ“‚ Project Structure

```txt
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ lib/server/content.ts  # Markdown processing & schema validation logic
â”‚   â”œâ”€â”€ routes/                # SvelteKit file-system routing
â”‚   â””â”€â”€ app.css                # Global styles & Tailwind v4 theme config
â”œâ”€â”€ static/
â”‚   â””â”€â”€ content/               # The actual blog/page content (Markdown)
â”‚       â”œâ”€â”€ journal/           # Blog posts (organized by slug folders)
â”‚       â””â”€â”€ pages/             # Static pages (About, Projects)
â”œâ”€â”€ build.sh                   # Custom build script handling environment URLs
â””â”€â”€ biome.json                 # Linter/Formatter configuration
```

## ğŸ› ï¸ Local Development

### Prerequisites

*   Node.js (Latest LTS recommended)
*   pnpm (`npm install -g pnpm`)

### Installation

1.  Clone the repository:
    ```bash
    git clone https://github.com/cbalona/modern-actuary.git
    cd modern-actuary
    ```

2.  Install dependencies:
    ```bash
    pnpm install
    ```

### Running the Dev Server

Start the development server with hot module replacement:

```bash
pnpm dev
```

The site will be available at `http://localhost:5173`.

### Linting & Formatting

This project uses **Biome** instead of Prettier/ESLint.

*   **Format code:** `pnpm format`
*   **Lint code:** `pnpm lint`
*   **Fix issues:** `pnpm fix`

## âœï¸ Content Workflow

The site does not use a database; it acts as a flat-file CMS. Content is located in
`static/content/`.

### Adding a Journal Entry

1.  Create a new folder in `static/content/journal/<your-slug>/`.
2.  Create an `index.md` file inside that folder.
3.  Add images/assets to a `media` subfolder relative to the post (e.g.,
    `static/content/journal/<slug>/media/`).

**Frontmatter Schema:**

The frontmatter is validated using Valibot (`src/lib/server/content.ts`).

```yaml
---
title: "Post Title"
description: "Short summary for SEO and previews."
date: "YYYY-MM-DD"
pinned: false           # (Optional) Pins post to top of home page
archived: false         # (Optional) Moves post to /archive
deprecated: false       # (Optional) Adds a deprecation warning
deprecation_note: "..." # (Optional) HTML content for the warning
changelog:              # (Optional) List of updates
  - date: "YYYY-MM-DD"
    description: "Update notes"
---
```

### Image Handling

The build process includes a custom Remark plugin that rewrites relative image paths.
You can reference images naturally within your markdown:

```markdown
![Alt Text](./media/image.png)
```

This is automatically compiled to the correct public path
(`/content/journal/<slug>/media/image.png`) during the build.

## ğŸ—ï¸ Building & Deployment

The site is configured for **Static Site Generation (SSG)**.

To build the production version:

```bash
pnpm build
```

### Build Script

A `build.sh` script is included to handle environment-specific URLs (specifically for
Cloudflare Pages):

*   **Local Prod Build:** `bash build.sh --production`
*   **Cloudflare Pages:** Automatically detected via `$CF_PAGES` environment variables.

## ğŸ¨ Design System

The visual identity is defined in `src/app.css` using Tailwind v4 theme variables:

*   **Fonts:** Lora (Serif) for headings/body, Karla (Sans) for UI elements.
*   **Colors:**
    *   `--color-paper`: `#f8f4e8` (Background)
    *   `--color-ink`: `#3a3a3a` (Text)
    *   `--color-accent`: `#8c4a3c` (Links/Highlights)
